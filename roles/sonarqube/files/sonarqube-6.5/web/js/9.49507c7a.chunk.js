webpackJsonp([9],{1658:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=n.n(s),l=n(22),c=n.n(l),u=n(4),p=(n.n(u),n(8)),f=(n.n(p),n(643)),m=n(1942),h=n(1941),d=n(1946),b=n(1944),y=n(1957),k=n(655),g=n(1893),E=n(1713),v=(n.n(E),n(7)),C=n(2310),_=(n.n(C),n(86)),N=n(2),w=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i.return&&i.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),O=i.a.createElement("div",{className:"page"},i.a.createElement("i",{className:"spinner"})),P=i.a.createElement(m.a,null),T=function(e){function t(){var e,n,o,s;a(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={loading:!0,tasks:[],query:"",pendingCount:0,failingCount:0},s=n,r(o,s)}return o(t,e),S(t,[{key:"componentWillMount",value:function(){this.loadTasksDebounced=n.i(u.debounce)(this.loadTasks.bind(this),f.a)}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,n.i(k.a)().then(function(t){e.setState({types:t}),e.loadTasks()})}},{key:"componentDidUpdate",value:function(e){e.component===this.props.component&&e.location===this.props.location||this.loadTasksDebounced()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadTasks",value:function(){var e=this;this.setState({loading:!0});var t=this.props.location.query.status||f.b.status,a=this.props.location.query.taskType||f.b.taskType,r=this.props.location.query.currents||f.b.currents,o=this.props.location.query.minSubmittedAt||f.b.minSubmittedAt,s=this.props.location.query.maxExecutedAt||f.b.maxExecutedAt,i=this.props.location.query.query||f.b.query,l={status:t,taskType:a,currents:r,minSubmittedAt:o,maxExecutedAt:s,query:i},c=n.i(g.a)(l);this.props.component&&(c.componentId=this.props.component.id),Promise.all([n.i(k.b)(c),n.i(k.c)(c.componentId)]).then(function(t){if(e.mounted){var a=w(t,2),r=a[0],o=a[1],s=r.tasks,i=o.pending,l=o.failing,c=n.i(u.uniq)(s.map(function(e){return e.organization}).filter(function(e){return e}));e.props.fetchOrganizations(c),e.setState({tasks:s,pendingCount:i,failingCount:l,loading:!1})}})}},{key:"handleFilterUpdate",value:function(e){var t=Object.assign({},this.props.location.query,e);Object.keys(f.b).forEach(function(e){t[e]===f.b[e]&&delete t[e]}),this.context.router.push({pathname:this.props.location.pathname,query:t})}},{key:"handleCancelTask",value:function(e){var t=this;this.setState({loading:!0}),n.i(k.d)(e.id).then(function(e){if(t.mounted){var a=n.i(g.b)(t.state.tasks,e);t.setState({tasks:a,loading:!1})}})}},{key:"handleFilterTask",value:function(e){this.handleFilterUpdate({query:e.componentKey})}},{key:"handleShowFailing",value:function(){this.handleFilterUpdate(Object.assign({},f.b,{status:f.c.FAILED,currents:f.d.ONLY_CURRENTS}))}},{key:"handleCancelAllPending",value:function(){var e=this;this.setState({loading:!0}),n.i(k.e)().then(function(){e.mounted&&e.loadTasks()})}},{key:"render",value:function(){var e=this.props.component,t=this.state,a=t.loading,r=t.types,o=t.tasks,s=t.pendingCount,l=t.failingCount;if(!r)return O;var u=this.props.location.query.status||f.b.status,p=this.props.location.query.taskType||f.b.taskType,m=this.props.location.query.currents||f.b.currents,k=this.props.location.query.minSubmittedAt||"",g=this.props.location.query.maxExecutedAt||"",E=this.props.location.query.query||"";return i.a.createElement("div",{className:"page page-limited"},i.a.createElement(c.a,{title:n.i(N.translate)("background_tasks.page")}),P,i.a.createElement(d.a,{component:e,pendingCount:s,failingCount:l,onShowFailing:this.handleShowFailing.bind(this),onCancelAllPending:this.handleCancelAllPending.bind(this)}),i.a.createElement(b.a,{loading:a,component:e,status:u,currents:m,minSubmittedAt:k,maxExecutedAt:g,query:E,taskType:p,types:r,onFilterUpdate:this.handleFilterUpdate.bind(this),onReload:this.loadTasksDebounced}),i.a.createElement(y.a,{loading:a,component:e,types:r,tasks:o,onCancelTask:this.handleCancelTask.bind(this),onFilterTask:this.handleFilterTask.bind(this)}),i.a.createElement(h.a,{tasks:o}))}}]),t}(i.a.PureComponent);T.contextTypes={router:i.a.PropTypes.object.isRequired};var x=function(e,t){return{component:t.location.query.id?n.i(v.getComponent)(e,t.location.query.id):void 0}},j={fetchOrganizations:_.b};t.default=n.i(p.connect)(x,j)(T)},1713:function(e,t){},1893:function(e,t,n){"use strict";function a(e,t){return e.map(function(e){return e.id===t.id?t:e})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return e.status===i.c.ALL?t.status=[i.c.PENDING,i.c.IN_PROGRESS,i.c.SUCCESS,i.c.FAILED,i.c.CANCELED].join():e.status===i.c.ALL_EXCEPT_PENDING?t.status=[i.c.IN_PROGRESS,i.c.SUCCESS,i.c.FAILED,i.c.CANCELED].join():t.status=e.status,e.taskType!==i.e&&(t.type=e.taskType),e.currents!==i.d.ALL&&(t.onlyCurrents=!0),e.minSubmittedAt&&(t.minSubmittedAt=e.minSubmittedAt),e.maxExecutedAt&&(t.maxExecutedAt=e.maxExecutedAt),e.query&&(t.componentQuery=e.query),1!==e.lastPage&&(t.p=e.lastPage),t}function o(e,t){return""+e+t}function s(e){if(!e)return"";if(e>=u){return o(Math.round(e/u),"min")}if(e>=c){return o(Math.round(e/c),"s")}return o(e,"ms")}t.b=a,t.a=r,t.c=s;var i=n(643),l=n(1713),c=(n.n(l),1e3),u=60*c},1939:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(215),s=n(643),i=function(e){function t(e){var t=e?s.d.ONLY_CURRENTS:s.d.ALL;i(t)}function n(e){var t=a===s.d.ALL?s.d.ONLY_CURRENTS:s.d.ALL;e.preventDefault(),i(t)}var a=e.value,i=e.onChange,l=a===s.d.ONLY_CURRENTS;return r.a.createElement("div",{className:"bt-search-form-field"},r.a.createElement(o.a,{checked:l,onCheck:t})," ",r.a.createElement("label",{style:{cursor:"pointer"},role:"checkbox",tabIndex:"0","aria-checked":l?"true":"false",onClick:n},"Yes"))};t.a=i},1940:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(11),i=n.n(s),l=n(3),c=n.n(l),u=n(0),p=n.n(u),f=n(643),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"componentDidMount",value:function(){this.attachDatePicker()}},{key:"componentDidUpdate",value:function(){this.attachDatePicker()}},{key:"attachDatePicker",value:function(){var e={dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,onSelect:this.handleChange.bind(this)};i.a.fn&&i.a.fn.datepicker&&(i()(this.refs.minDate).datepicker(e),i()(this.refs.maxDate).datepicker(e))}},{key:"handleChange",value:function(){var e={},t=this.refs.minDate.value,n=this.refs.maxDate.value,a=c()(t,f.f,!0),r=c()(n,f.f,!0);a.isValid()&&(e.minSubmittedAt=a.format(f.f)),r.isValid()&&(e.maxExecutedAt=r.format(f.f)),this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,t=e.minSubmittedAt,n=e.maxExecutedAt;return p.a.createElement("div",null,p.a.createElement("input",{className:"input-small",value:t,onChange:function(){return!0},ref:"minDate",type:"text",placeholder:"From"})," ",p.a.createElement("input",{className:"input-small",value:n,onChange:function(){return!0},ref:"maxDate",type:"text",placeholder:"To"}))}}]),t}(u.Component);t.a=h},1941:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1713),s=(n.n(o),n(2)),i=function(e){return e.tasks.length<1e3?null:r.a.createElement("footer",{className:"spacer-top note text-center"},n.i(s.translateWithParameters)("max_results_reached",1e3))};t.a=i},1942:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(2),s=function(){return r.a.createElement("header",{className:"page-header"},r.a.createElement("h1",{className:"page-title"},n.i(o.translate)("background_tasks.page")),r.a.createElement("p",{className:"page-description"},n.i(o.translate)("background_tasks.page.description")))};t.a=s},1943:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(55),c=n.n(l),u=n(655),p=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=i.a.createElement("i",{className:"spinner"}),h=function(e){function t(){var e,n,o,s;a(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={scannerContext:null},o.handleCloseClick=function(e){e.preventDefault(),o.props.onClose()},s=n,r(o,s)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadScannerContext()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadScannerContext",value:function(){var e=this;n.i(u.f)(this.props.task.id,["scannerContext"]).then(function(t){e.mounted&&e.setState({scannerContext:t.scannerContext})})}},{key:"render",value:function(){var e=this.props.task,t=this.state.scannerContext;return i.a.createElement(c.a,{isOpen:!0,contentLabel:"scanner context",className:"modal modal-large",overlayClassName:"modal-overlay",onRequestClose:this.props.onClose},i.a.createElement("div",{className:"modal-head"},i.a.createElement("h2",null,n.i(p.translate)("background_tasks.scanner_context"),": ",e.componentName," [",n.i(p.translate)("background_task.type",e.type),"]")),i.a.createElement("div",{className:"modal-body modal-container"},null!=t?i.a.createElement("pre",{className:"js-task-scanner-context"},t):m),i.a.createElement("div",{className:"modal-foot"},i.a.createElement("a",{href:"#",className:"js-modal-close",onClick:this.handleCloseClick},n.i(p.translate)("close"))))}}]),t}(i.a.PureComponent);t.a=h},1944:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(1947),c=n(1958),u=n(1939),p=n(1940),f=n(643),m=n(2),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=i.a.createElement("h6",{className:"bt-search-form-label"},"Search by Task or Component"),b=i.a.createElement("h6",{className:"bt-search-form-label"},"Status"),y=i.a.createElement("h6",{className:"bt-search-form-label"},"Type"),k=i.a.createElement("h6",{className:"bt-search-form-label"},"Only Latest Analysis"),g=i.a.createElement("h6",{className:"bt-search-form-label"},"Date"),E=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"handleStatusChange",value:function(e){this.props.onFilterUpdate({status:e})}},{key:"handleTypeChange",value:function(e){this.props.onFilterUpdate({taskType:e})}},{key:"handleCurrentsChange",value:function(e){this.props.onFilterUpdate({currents:e})}},{key:"handleDateChange",value:function(e){this.props.onFilterUpdate(e)}},{key:"handleQueryChange",value:function(e){this.props.onFilterUpdate({query:e})}},{key:"handleReload",value:function(e){e.target.blur(),this.props.onReload()}},{key:"handleReset",value:function(e){e.preventDefault(),e.target.blur(),this.props.onFilterUpdate(f.b)}},{key:"renderSearchBox",value:function(){var e=this,t=this.props,n=t.component,a=t.query;return n?null:i.a.createElement("li",null,d,i.a.createElement("input",{onChange:function(t){return e.handleQueryChange(t.target.value)},value:a,ref:"searchInput",className:"js-search input-large",type:"search",placeholder:"Search"}))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.component,r=e.types,o=e.status,s=e.taskType,f=e.currents,h=e.minSubmittedAt,d=e.maxExecutedAt;return i.a.createElement("section",{className:"big-spacer-top big-spacer-bottom"},i.a.createElement("ul",{className:"bt-search-form"},i.a.createElement("li",null,b,i.a.createElement(l.a,{value:o,onChange:this.handleStatusChange.bind(this)})),r.length>1&&i.a.createElement("li",null,y,i.a.createElement(c.a,{value:s,types:r,onChange:this.handleTypeChange.bind(this)})),!a&&i.a.createElement("li",null,k,i.a.createElement(u.a,{value:f,onChange:this.handleCurrentsChange.bind(this)})),i.a.createElement("li",null,g,i.a.createElement(p.a,{minSubmittedAt:h,maxExecutedAt:d,onChange:this.handleDateChange.bind(this)})),this.renderSearchBox(),i.a.createElement("li",{className:"bt-search-form-right"},i.a.createElement("button",{className:"js-reload",onClick:this.handleReload.bind(this),disabled:t},n.i(m.translate)("reload"))," ",i.a.createElement("button",{ref:"resetButton",onClick:this.handleReset.bind(this),disabled:t},n.i(m.translate)("reset_verb")))))}}]),t}(i.a.PureComponent);E.propTypes={loading:i.a.PropTypes.bool.isRequired,status:i.a.PropTypes.any.isRequired,taskType:i.a.PropTypes.any.isRequired,currents:i.a.PropTypes.any.isRequired,query:i.a.PropTypes.string.isRequired,onFilterUpdate:i.a.PropTypes.func.isRequired,onReload:i.a.PropTypes.func.isRequired},t.a=E},1945:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(55),c=n.n(l),u=n(655),p=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=i.a.createElement("i",{className:"spinner"}),h=function(e){function t(){var e,n,o,s;a(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={loading:!0,stacktrace:null},o.handleCloseClick=function(e){e.preventDefault(),o.props.onClose()},s=n,r(o,s)}return o(t,e),f(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadStacktrace()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadStacktrace",value:function(){var e=this;n.i(u.f)(this.props.task.id,["stacktrace"]).then(function(t){e.mounted&&e.setState({loading:!1,stacktrace:t.errorStacktrace})})}},{key:"render",value:function(){var e=this.props.task,t=this.state,a=t.loading,r=t.stacktrace;return i.a.createElement(c.a,{isOpen:!0,contentLabel:"stacktrace",className:"modal modal-large",overlayClassName:"modal-overlay",onRequestClose:this.props.onClose},i.a.createElement("div",{className:"modal-head"},i.a.createElement("h2",null,n.i(p.translate)("background_tasks.error_stacktrace"),": ",e.componentName," [",n.i(p.translate)("background_task.type",e.type),"]")),i.a.createElement("div",{className:"modal-body modal-container"},a?m:r?i.a.createElement("div",null,i.a.createElement("h4",{className:"spacer-bottom"},n.i(p.translate)("background_tasks.error_stacktrace")),i.a.createElement("pre",{className:"js-task-stacktrace"},r)):i.a.createElement("div",null,i.a.createElement("h4",{className:"spacer-bottom"},n.i(p.translate)("background_tasks.error_message")),i.a.createElement("pre",{className:"js-task-error-message"},e.errorMessage))),i.a.createElement("div",{className:"modal-foot"},i.a.createElement("a",{href:"#",className:"js-modal-close",onClick:this.handleCloseClick},n.i(p.translate)("close"))))}}]),t}(i.a.PureComponent);t.a=h},1946:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"handleCancelAllPending",value:function(e){e.preventDefault(),e.target.blur(),this.props.onCancelAllPending()}},{key:"handleShowFailing",value:function(e){e.preventDefault(),e.target.blur(),this.props.onShowFailing()}},{key:"renderPending",value:function(){return null==this.props.pendingCount?null:this.props.pendingCount>0?i.a.createElement("span",null,i.a.createElement("span",{className:"js-pending-count emphasised-measure"},this.props.pendingCount)," ",n.i(l.translate)("background_tasks.pending"),i.a.createElement("a",{onClick:this.handleCancelAllPending.bind(this),className:"js-cancel-pending icon-delete spacer-left",title:n.i(l.translate)("background_tasks.cancel_all_tasks"),"data-toggle":"tooltip",href:"#"})):i.a.createElement("span",null,i.a.createElement("span",{className:"js-pending-count emphasised-measure"},this.props.pendingCount)," ",n.i(l.translate)("background_tasks.pending"))}},{key:"renderFailures",value:function(){return null==this.props.failingCount?null:this.props.component?null:this.props.failingCount>0?i.a.createElement("span",null,i.a.createElement("a",{onClick:this.handleShowFailing.bind(this),className:"js-failures-count emphasised-measure","data-toggle":"tooltip",title:"Count of projects where processing of most recent analysis report failed",href:"#"},this.props.failingCount)," ",n.i(l.translate)("background_tasks.failures")):i.a.createElement("span",null,i.a.createElement("span",{className:"js-failures-count emphasised-measure","data-toggle":"tooltip",title:"Count of projects where processing of most recent analysis report failed"},this.props.failingCount)," ",n.i(l.translate)("background_tasks.failures"))}},{key:"render",value:function(){return i.a.createElement("section",{className:"big-spacer-top big-spacer-bottom"},i.a.createElement("span",null,this.renderPending()),i.a.createElement("span",{className:"huge-spacer-left"},this.renderFailures()))}}]),t}(i.a.PureComponent);t.a=u},1947:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(56),s=n.n(o),i=n(643),l=n(2),c=function(e){var t=e.value,a=e.onChange,o=[{value:i.c.ALL,label:n.i(l.translate)("background_task.status.ALL")},{value:i.c.ALL_EXCEPT_PENDING,label:n.i(l.translate)("background_task.status.ALL_EXCEPT_PENDING")},{value:i.c.PENDING,label:n.i(l.translate)("background_task.status.PENDING")},{value:i.c.IN_PROGRESS,label:n.i(l.translate)("background_task.status.IN_PROGRESS")},{value:i.c.SUCCESS,label:n.i(l.translate)("background_task.status.SUCCESS")},{value:i.c.FAILED,label:n.i(l.translate)("background_task.status.FAILED")},{value:i.c.CANCELED,label:n.i(l.translate)("background_task.status.CANCELED")}];return r.a.createElement(s.a,{value:t,onChange:function(e){return a(e.value)},className:"input-medium",options:o,clearable:!1,searchable:!1})};t.a=c},1948:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(1955),c=n(1950),u=n(1954),p=n(1952),f=n(1951),m=n(1953),h=n(1949),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.task,n=e.index,a=e.tasks,r=e.component,o=e.types,s=e.onCancelTask,d=e.onFilterTask,b=n>0?a[n-1]:null;return i.a.createElement("tr",null,i.a.createElement(l.a,{task:t}),i.a.createElement(c.a,{task:t,types:o}),i.a.createElement(u.a,{task:t}),i.a.createElement(p.a,{task:t,prevTask:b}),i.a.createElement(f.a,{date:t.submittedAt,baseDate:t.submittedAt,format:"LTS"}),i.a.createElement(f.a,{date:t.startedAt,baseDate:t.submittedAt,format:"LTS"}),i.a.createElement(f.a,{date:t.executedAt,baseDate:t.submittedAt,format:"LTS"}),i.a.createElement(m.a,{task:t}),i.a.createElement(h.a,{component:r,task:t,onFilterTask:d,onCancelTask:s}))}}]),t}(i.a.PureComponent);b.propTypes={task:i.a.PropTypes.object.isRequired,index:i.a.PropTypes.number.isRequired,tasks:i.a.PropTypes.array.isRequired,component:i.a.PropTypes.object,types:i.a.PropTypes.array.isRequired,onCancelTask:i.a.PropTypes.func.isRequired,onFilterTask:i.a.PropTypes.func.isRequired},t.a=b},1949:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(1943),c=n(1945),u=n(643),p=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=i.a.createElement("td",null," "),h=i.a.createElement("button",{className:"dropdown-toggle","data-toggle":"dropdown"},i.a.createElement("i",{className:"icon-dropdown"})),d=i.a.createElement("i",{className:"spacer-right icon-filter icon-gray"}),b=i.a.createElement("i",{className:"spacer-right icon-delete"}),y=i.a.createElement("i",{className:"spacer-right icon-list icon-gray"}),k=i.a.createElement("i",{className:"spacer-right icon-list icon-red"}),g=function(e){function t(){var e,n,o,s;a(this,t);for(var i=arguments.length,l=Array(i),c=0;c<i;c++)l[c]=arguments[c];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={scannerContextOpen:!1,stacktraceOpen:!1},o.closeScannerContext=function(){return o.setState({scannerContextOpen:!1})},o.closeStacktrace=function(){return o.setState({stacktraceOpen:!1})},s=n,r(o,s)}return o(t,e),f(t,[{key:"handleFilterClick",value:function(e){e.preventDefault(),this.props.onFilterTask(this.props.task)}},{key:"handleCancelClick",value:function(e){e.preventDefault(),this.props.onCancelTask(this.props.task)}},{key:"handleShowScannerContextClick",value:function(e){e.preventDefault(),this.setState({scannerContextOpen:!0})}},{key:"handleShowStacktraceClick",value:function(e){e.preventDefault(),this.setState({stacktraceOpen:!0})}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.task,r=null==t,o=a.status===u.c.PENDING,s=null!=a.errorMessage;return r||o||a.hasScannerContext||s?i.a.createElement("td",{className:"thin nowrap"},i.a.createElement("div",{className:"dropdown js-task-action"},h,i.a.createElement("ul",{className:"dropdown-menu dropdown-menu-right"},r&&i.a.createElement("li",null,i.a.createElement("a",{className:"js-task-filter",href:"#",onClick:this.handleFilterClick.bind(this)},d,n.i(p.translateWithParameters)("background_tasks.filter_by_component_x",a.componentName))),o&&i.a.createElement("li",null,i.a.createElement("a",{className:"js-task-cancel",href:"#",onClick:this.handleCancelClick.bind(this)},b,n.i(p.translate)("background_tasks.cancel_task"))),a.hasScannerContext&&i.a.createElement("li",null,i.a.createElement("a",{className:"js-task-show-scanner-context",href:"#",onClick:this.handleShowScannerContextClick.bind(this)},y,n.i(p.translate)("background_tasks.show_scanner_context"))),s&&i.a.createElement("li",null,i.a.createElement("a",{className:"js-task-show-stacktrace",href:"#",onClick:this.handleShowStacktraceClick.bind(this)},k,n.i(p.translate)("background_tasks.show_stacktrace"))))),this.state.scannerContextOpen&&i.a.createElement(l.a,{onClose:this.closeScannerContext,task:a}),this.state.stacktraceOpen&&i.a.createElement(c.a,{onClose:this.closeStacktrace,task:a})):m}}]),t}(i.a.PureComponent);t.a=g},1950:function(e,t,n){"use strict";function a(e){var t=e.task,n=e.types;return t.componentKey?o.a.createElement("td",null,o.a.createElement("span",{className:"little-spacer-right"},o.a.createElement(l.a,{qualifier:t.componentQualifier})),null!=t.organization&&o.a.createElement(c.a,{organizationKey:t.organization}),o.a.createElement(s.Link,{to:{pathname:"/dashboard",query:{id:t.componentKey}}},t.componentName),n.length>1&&o.a.createElement(i.a,{task:t})):o.a.createElement("td",null,o.a.createElement("span",{className:"note"},t.id),n.length>1&&o.a.createElement(i.a,{task:t}))}t.a=a;var r=n(0),o=n.n(r),s=n(9),i=n(1956),l=n(85),c=n(329),u=n(1713);n.n(u)},1951:function(e,t,n){"use strict";var a=n(3),r=n.n(a),o=n(0),s=n.n(o),i=function(e){var t=e.date,n=e.baseDate,a=e.format,o=r()(t),i=r()(n),l=t&&n?o.diff(i,"days"):0;return s.a.createElement("td",{className:"thin nowrap text-right"},l>0&&s.a.createElement("span",{className:"text-warning little-spacer-right"},"(+"+l+"d)"),t?r()(t).format(a):"")};t.a=i},1952:function(e,t,n){"use strict";function a(e,t){return!o()(e).isSame(o()(t),"day")}var r=n(3),o=n.n(r),s=n(0),i=n.n(s),l=n(1713),c=(n.n(l),function(e){var t=e.task,n=e.prevTask,r=!n||a(t.submittedAt,n.submittedAt);return i.a.createElement("td",{className:"thin nowrap text-right"},r?o()(t.submittedAt).format("LL"):"")});t.a=c},1953:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1893),s=n(1713),i=(n.n(s),function(e){var t=e.task;return r.a.createElement("td",{className:"thin nowrap text-right"},n.i(o.c)(t.executionTimeMs))});t.a=i},1954:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=function(e){var t=e.task;return r.a.createElement("td",{className:"thin nowrap"},r.a.createElement("div",{className:"note"},t.id))};t.a=o},1955:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(643),s=n(702),i=n(2),l=n(1713),c=(n.n(l),r.a.createElement(s.a,null)),u=r.a.createElement("i",{className:"spinner"}),p=function(e){var t=e.task,a=void 0;switch(t.status){case o.c.PENDING:a=c;break;case o.c.IN_PROGRESS:a=u;break;case o.c.SUCCESS:a=r.a.createElement("span",{className:"badge badge-success"},n.i(i.translate)("background_task.status.SUCCESS"));break;case o.c.FAILED:a=r.a.createElement("span",{className:"badge badge-danger"},n.i(i.translate)("background_task.status.FAILED"));break;case o.c.CANCELED:a=r.a.createElement("span",{className:"badge badge-muted"},n.i(i.translate)("background_task.status.CANCELED"));break;default:a=""}return r.a.createElement("td",{className:"thin spacer-right"},a)};t.a=p},1956:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1713),s=(n.n(o),n(2)),i=function(e){var t=e.task;return r.a.createElement("span",{className:"note nowrap spacer-left"},"[",n.i(s.translate)("background_task.type",t.type),"]")};t.a=i},1957:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),i=n.n(s),l=n(10),c=n.n(l),u=n(1948),p=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=i.a.createElement("th",null," "),h=i.a.createElement("th",null," "),d=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.tasks,a=e.component,r=e.types,o=e.loading,s=e.onCancelTask,l=e.onFilterTask,f=c()("data zebra zebra-hover background-tasks",{"new-loading":o});return i.a.createElement("table",{className:f},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,n.i(p.translate)("background_tasks.table.status")),i.a.createElement("th",null,n.i(p.translate)("background_tasks.table.task")),i.a.createElement("th",null,n.i(p.translate)("background_tasks.table.id")),m,i.a.createElement("th",{className:"text-right"},n.i(p.translate)("background_tasks.table.submitted")),i.a.createElement("th",{className:"text-right"},n.i(p.translate)("background_tasks.table.started")),i.a.createElement("th",{className:"text-right"},n.i(p.translate)("background_tasks.table.finished")),i.a.createElement("th",{className:"text-right"},n.i(p.translate)("background_tasks.table.duration")),h)),i.a.createElement("tbody",null,t.map(function(e,t,n){return i.a.createElement(u.a,{key:e.id,task:e,index:t,tasks:n,component:a,types:r,onCancelTask:s,onFilterTask:l})})))}}]),t}(i.a.PureComponent);t.a=d},1958:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=n(0),o=n.n(r),s=n(56),i=n.n(s),l=n(643),c=n(2),u=function(e){var t=e.value,r=e.onChange,s=e.types,u=s.map(function(e){return{value:e,label:n.i(c.translate)("background_task.type",e)}}),p=[{value:l.e,label:n.i(c.translate)("background_task.type.ALL")}].concat(a(u));return o.a.createElement(i.a,{value:t,onChange:function(e){return r(e.value)},className:"input-medium",options:p,clearable:!1,searchable:!1})};t.a=u},2256:function(e,t,n){t=e.exports=n(36)(void 0),t.push([e.i,".bt-search-form {\n  display: flex;\n  align-items: flex-start;\n}\n\n.bt-search-form > li + li {\n  margin-left: 40px;\n}\n\n.bt-search-form-label {\n  margin-bottom: 4px;\n}\n\n.bt-search-form-field {\n  padding: 4px 0;\n}\n\n.bt-search-form-right {\n  margin-left: auto !important;\n}\n",""])},2310:function(e,t,n){var a=n(2256);"string"==typeof a&&(a=[[e.i,a,""]]);var r={};r.transform=void 0;n(37)(a,r);a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=9.49507c7a.chunk.js.map