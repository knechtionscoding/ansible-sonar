webpackJsonp([22],{1681:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),c=n.n(l),s=n(2123),u=n(2125),p=n(2124),f=n(639),h=n(2),y=n(324),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=c.a.createElement("i",{className:"spinner spacer-left"}),d=c.a.createElement(p.a,null),v=function(e){function t(){var e,r,i,l;o(this,t);for(var c=arguments.length,s=Array(c),u=0;u<c;u++)s[u]=arguments[u];return r=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.state={loading:!0},i.handleFromDateChange=function(e){var t=n.i(y.c)(i.props.profile.name,i.props.profile.language,i.props.organization,{since:e,to:i.props.location.query.to});i.context.router.push(t)},i.handleToDateChange=function(e){var t=n.i(y.c)(i.props.profile.name,i.props.profile.language,i.props.organization,{since:i.props.location.query.since,to:e});i.context.router.push(t)},i.handleReset=function(){var e=n.i(y.c)(i.props.profile.name,i.props.profile.language,i.props.organization);i.context.router.push(e)},l=r,a(i,l)}return i(t,e),b(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.loadChangelog()}},{key:"componentDidUpdate",value:function(e){e.location!==this.props.location&&this.loadChangelog()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"loadChangelog",value:function(){var e=this;this.setState({loading:!0});var t=this.props.location.query,r={profileKey:this.props.profile.key};t.since&&(r.since=t.since),t.to&&(r.to=t.to),n.i(f.e)(r).then(function(t){e.mounted&&e.setState({events:t.events,total:t.total,page:t.p,loading:!1})})}},{key:"loadMore",value:function(e){var t=this;e.preventDefault(),e.target.blur(),this.setState({loading:!0});var o=this.props.location.query,a={profileKey:this.props.profile.key,p:this.state.page+1};o.since&&(a.since=o.since),o.to&&(a.to=o.to),n.i(f.e)(a).then(function(e){t.mounted&&t.state.events&&t.setState({events:[].concat(r(t.state.events),r(e.events)),total:e.total,page:e.p,loading:!1})})}},{key:"render",value:function(){var e=this.props.location.query,t=null!=this.state.events&&null!=this.state.total&&this.state.events.length<this.state.total;return c.a.createElement("div",{className:"quality-profile-box js-profile-changelog"},c.a.createElement("header",{className:"spacer-bottom"},c.a.createElement(u.a,{fromDate:e.since,toDate:e.to,onFromDateChange:this.handleFromDateChange,onToDateChange:this.handleToDateChange,onReset:this.handleReset}),this.state.loading&&m),null!=this.state.events&&0===this.state.events.length&&d,null!=this.state.events&&this.state.events.length>0&&c.a.createElement(s.a,{events:this.state.events,organization:this.props.organization}),t&&c.a.createElement("footer",{className:"text-center spacer-top small"},c.a.createElement("a",{href:"#",onClick:this.loadMore.bind(this)},n.i(h.translate)("show_more"))))}}]),t}(c.a.PureComponent);v.contextTypes={router:c.a.PropTypes.object},t.default=v},1724:function(e,t,n){t=e.exports=n(36)(void 0),t.push([e.i,".date-input-control {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n}\n\n.date-input-control-input {\n  width: 105px;\n  padding-left: 24px !important;\n  cursor: pointer;\n}\n\n.date-input-control-icon {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.date-input-control-icon path {\n  fill: #cdcdcd;\n  transition: fill 0.3s ease;\n}\n\n.date-input-control-input:focus + .date-input-control-icon path {\n  fill: #4b9fd5;\n}\n\n.boolean-toggle {\n  display: inline-block;\n  vertical-align: middle;\n  width: 48px;\n  height: 24px;\n  padding: 1px;\n  border: 1px solid #cdcdcd;\n  border-radius: 24px;\n  box-sizing: border-box;\n  background-color: #fff;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.boolean-toggle:hover {\n  background-color: #fff;\n}\n\n.boolean-toggle:focus {\n  border-color: #4b9fd5;\n  background-color: #f6f6f6;\n}\n\n.boolean-toggle-handle {\n  width: 20px;\n  height: 20px;\n  border: 1px solid #cdcdcd;\n  border-radius: 22px;\n  box-sizing: border-box;\n  background-color: #f6f6f6;\n  transition: transform 0.3s cubic-bezier(.87,-.41,.19,1.44), border 0.3s ease;\n}\n\n.boolean-toggle-on {\n  border-color: #236a97;\n  background-color: #236a97;\n}\n\n.boolean-toggle-on:hover {\n  background-color: #236a97;\n}\n\n.boolean-toggle-on:focus {\n  background-color: #236a97;\n}\n\n.boolean-toggle-on .boolean-toggle-handle {\n  border-color: #f6f6f6;\n  transform: translateX(24px);\n}\n",""])},1727:function(e,t,n){var r=n(1724);"string"==typeof r&&(r=[[e.i,r,""]]);var o={};o.transform=void 0;n(37)(r,o);r.locals&&(e.exports=r.locals)},1734:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(11),l=n.n(i),c=n(0),s=n.n(c),u=n(10),p=n.n(u),f=n(4),h=(n.n(f),n(1727)),y=(n.n(h),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=s.a.createElement("span",{className:"date-input-control-icon"},s.a.createElement("svg",{width:"14",height:"14",viewBox:"0 0 16 16"},s.a.createElement("path",{d:"M5.5 6h2v2h-2V6zm3 0h2v2h-2V6zm3 0h2v2h-2V6zm-9 6h2v2h-2v-2zm3 0h2v2h-2v-2zm3 0h2v2h-2v-2zm-3-3h2v2h-2V9zm3 0h2v2h-2V9zm3 0h2v2h-2V9zm-9 0h2v2h-2V9zm11-9v1h-2V0h-7v1h-2V0h-2v16h15V0h-2zm1 15h-13V4h13v11z"}))),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),b(t,[{key:"componentDidMount",value:function(){this.attachDatePicker()}},{key:"componentWillReceiveProps",value:function(e){this.refs.input.value=e.value}},{key:"handleChange",value:function(){var e=this.refs.input.value;this.props.onChange(e)}},{key:"attachDatePicker",value:function(){var e={dateFormat:this.props.format,changeMonth:!0,changeYear:!0,onSelect:this.handleChange.bind(this)};l.a.fn&&l.a.fn.datepicker&&l()(this.refs.input).datepicker(e)}},{key:"render",value:function(){var e=n.i(f.pick)(this.props,["placeholder","name"]);return s.a.createElement("span",{className:p()("date-input-control",this.props.className)},s.a.createElement("input",y({className:"date-input-control-input",ref:"input",type:"text",defaultValue:this.props.value,readOnly:!0},e)),m)}}]),t}(s.a.PureComponent);d.propTypes={className:s.a.PropTypes.string,value:s.a.PropTypes.string,format:s.a.PropTypes.string,name:s.a.PropTypes.string,placeholder:s.a.PropTypes.string,onChange:s.a.PropTypes.func.isRequired},d.defaultProps={value:"",format:"yy-mm-dd"},t.a=d},2123:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(9),s=n(3),u=n.n(s),p=n(2126),f=n(2),h=n(48),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=l.a.createElement("span",{className:"note"},"System"),m=l.a.createElement("i",{className:"icon-sort-desc"}),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),y(t,[{key:"render",value:function(){var e=this,t=!1,r=this.props.events.map(function(r,o){var a=o>0?e.props.events[o-1]:null,i=null!=a&&u()(a.date).diff(r.date,"seconds")<10,s=null!=a&&i&&a.authorName===r.authorName&&a.action===r.action;s||(t=!t);var y="js-profile-changelog-event "+(t?"even":"odd");return l.a.createElement("tr",{key:o,className:y},l.a.createElement("td",{className:"thin nowrap"},!s&&u()(r.date).format("LLL")),l.a.createElement("td",{className:"thin nowrap"},!s&&(r.authorName?l.a.createElement("span",null,r.authorName):b)),l.a.createElement("td",{className:"thin nowrap"},!s&&n.i(f.translate)("quality_profiles.changelog",r.action)),l.a.createElement("td",{style:{lineHeight:"1.5"}},l.a.createElement(c.Link,{to:n.i(h.c)({rule_key:r.ruleKey},e.props.organization)},r.ruleName)),l.a.createElement("td",{className:"thin nowrap"},l.a.createElement(p.a,{changes:r.params})))});return l.a.createElement("table",{className:"data zebra-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{className:"thin nowrap"},n.i(f.translate)("date")," ",m),l.a.createElement("th",{className:"thin nowrap"},n.i(f.translate)("user")),l.a.createElement("th",{className:"thin nowrap"},n.i(f.translate)("action")),l.a.createElement("th",null,n.i(f.translate)("rule")),l.a.createElement("th",{className:"thin nowrap"},n.i(f.translate)("parameters")))),l.a.createElement("tbody",null,r))}}]),t}(l.a.PureComponent);t.a=d},2124:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(2),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"big-spacer-top"},n.i(c.translate)("no_results"))}}]),t}(l.a.PureComponent);t.a=u},2125:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(1734),s=n(2),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"handleResetClick",value:function(e){e.preventDefault(),e.target.blur(),this.props.onReset()}},{key:"render",value:function(){return l.a.createElement("div",{className:"display-inline-block",id:"quality-profile-changelog-form"},l.a.createElement(c.a,{name:"since",value:this.props.fromDate,placeholder:"From",onChange:this.props.onFromDateChange})," â€” ",l.a.createElement(c.a,{name:"to",value:this.props.toDate,placeholder:"To",onChange:this.props.onToDateChange}),l.a.createElement("button",{className:"spacer-left",onClick:this.handleResetClick.bind(this)},n.i(s.translate)("reset_verb")))}}]),t}(l.a.PureComponent);t.a=p},2126:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(2128),s=n(2127),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this.props.changes;return l.a.createElement("ul",null,Object.keys(e).map(function(t){return l.a.createElement("li",{key:t},"severity"===t?l.a.createElement(c.a,{severity:e[t]}):l.a.createElement(s.a,{name:t,value:e[t]}))}))}}]),t}(l.a.PureComponent);t.a=p},2127:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(2),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.name,r=e.value;return null==r?l.a.createElement("div",{style:{whiteSpace:"normal"}},n.i(c.translateWithParameters)("quality_profiles.changelog.parameter_reset_to_default_value",t)):l.a.createElement("div",{style:{whiteSpace:"normal"}},n.i(c.translateWithParameters)("quality_profiles.parameter_set_to",t,r))}}]),t}(l.a.PureComponent);t.a=u},2128:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(331),s=n(2),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){return l.a.createElement("div",null,n.i(s.translate)("quality_profiles.severity_set_to")," ",l.a.createElement(c.a,{severity:this.props.severity}))}}]),t}(l.a.PureComponent);t.a=p}});
//# sourceMappingURL=22.6af88b74.chunk.js.map