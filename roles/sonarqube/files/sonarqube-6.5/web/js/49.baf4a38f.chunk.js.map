{"version":3,"sources":["webpack:///js/49.baf4a38f.chunk.js","webpack:///./src/main/js/apps/account/organizations/CreateOrganizationForm.js"],"names":["webpackJsonp","1654","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_modal__","__WEBPACK_IMPORTED_MODULE_1_react_modal___default","__WEBPACK_IMPORTED_MODULE_2_lodash__","__WEBPACK_IMPORTED_MODULE_3_react_redux__","__WEBPACK_IMPORTED_MODULE_4_react_router__","__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__","__WEBPACK_IMPORTED_MODULE_6__organizations_actions__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","_ref","a","createElement","className","_ref2","CreateOrganizationForm","_React$PureComponent","this","_this","getPrototypeOf","closeForm","router","push","stopProcessing","mounted","setState","loading","stopProcessingAndClose","handleAvatarInputChange","e","avatar","changeAvatarImage","avatarImage","handleSubmit","preventDefault","organization","name","state","assign","description","url","createOrganization","then","_this2","isOpen","contentLabel","overlayClassName","onRequestClose","onSubmit","htmlFor","id","autoFocus","required","type","minLength","maxLength","disabled","onChange","src","alt","height","rows","onClick","PureComponent","mapDispatchToProps"],"mappings":"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","file":"js/49.baf4a38f.chunk.js","sourcesContent":["webpackJsonp([49],{\n\n/***/ 1654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_modal__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_modal___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react_modal__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_redux___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_react_redux__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_l10n__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__organizations_actions__ = __webpack_require__(87);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n\n\n\n\n\n\n\n\nvar _ref = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n  'em',\n  { className: 'mandatory' },\n  '*'\n);\n\nvar _ref2 = __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i', { className: 'spinner little-spacer-right' });\n\nvar CreateOrganizationForm = function (_React$PureComponent) {\n  _inherits(CreateOrganizationForm, _React$PureComponent);\n\n  function CreateOrganizationForm(props) {\n    _classCallCheck(this, CreateOrganizationForm);\n\n    var _this = _possibleConstructorReturn(this, (CreateOrganizationForm.__proto__ || Object.getPrototypeOf(CreateOrganizationForm)).call(this, props));\n\n    _this.closeForm = function () {\n      _this.props.router.push('/account/organizations');\n    };\n\n    _this.stopProcessing = function () {\n      if (_this.mounted) {\n        _this.setState({ loading: false });\n      }\n    };\n\n    _this.stopProcessingAndClose = function () {\n      if (_this.mounted) {\n        _this.setState({ loading: false });\n      }\n      _this.closeForm();\n    };\n\n    _this.handleAvatarInputChange = function (e) {\n      var value = e.target.value;\n\n      _this.setState({ avatar: value });\n      _this.changeAvatarImage(value);\n    };\n\n    _this.changeAvatarImage = function (value) {\n      _this.setState({ avatarImage: value });\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var organization = { name: _this.state.name };\n      if (_this.state.avatar) {\n        Object.assign(organization, { avatar: _this.state.avatar });\n      }\n      if (_this.state.description) {\n        Object.assign(organization, { description: _this.state.description });\n      }\n      if (_this.state.key) {\n        Object.assign(organization, { key: _this.state.key });\n      }\n      if (_this.state.url) {\n        Object.assign(organization, { url: _this.state.url });\n      }\n      _this.setState({ loading: true });\n      _this.props.createOrganization(organization).then(_this.stopProcessingAndClose, _this.stopProcessing);\n    };\n\n    _this.state = {\n      loading: false,\n      avatar: '',\n      avatarImage: '',\n      description: '',\n      key: '',\n      name: '',\n      url: ''\n    };\n    _this.changeAvatarImage = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_lodash__[\"debounce\"])(_this.changeAvatarImage, 500);\n    return _this;\n  }\n\n  _createClass(CreateOrganizationForm, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.mounted = true;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n        __WEBPACK_IMPORTED_MODULE_1_react_modal___default.a,\n        {\n          isOpen: true,\n          contentLabel: 'modal form',\n          className: 'modal',\n          overlayClassName: 'modal-overlay',\n          onRequestClose: this.closeForm },\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'header',\n          { className: 'modal-head' },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'h2',\n            null,\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('my_account.create_organization')\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n          'form',\n          { onSubmit: this.handleSubmit },\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'div',\n            { className: 'modal-body' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'modal-field' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: 'organization-name' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.name'),\n                _ref\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                id: 'organization-name',\n                autoFocus: true,\n                name: 'name',\n                required: true,\n                type: 'text',\n                minLength: '2',\n                maxLength: '64',\n                value: this.state.name,\n                disabled: this.state.loading,\n                onChange: function onChange(e) {\n                  return _this2.setState({ name: e.target.value });\n                }\n              }),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'modal-field-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.name.description')\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'modal-field' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: 'organization-key' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.key')\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                id: 'organization-key',\n                name: 'key',\n                type: 'text',\n                minLength: '2',\n                maxLength: '64',\n                value: this.state.key,\n                disabled: this.state.loading,\n                onChange: function onChange(e) {\n                  return _this2.setState({ key: e.target.value });\n                }\n              }),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'modal-field-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.key.description')\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'modal-field' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: 'organization-avatar' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.avatar')\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                id: 'organization-avatar',\n                name: 'avatar',\n                type: 'text',\n                maxLength: '256',\n                value: this.state.avatar,\n                disabled: this.state.loading,\n                onChange: this.handleAvatarInputChange\n              }),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'modal-field-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.avatar.description')\n              ),\n              !!this.state.avatarImage && __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'spacer-top spacer-bottom' },\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                  'div',\n                  { className: 'little-spacer-bottom' },\n                  __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.avatar.preview'),\n                  ':'\n                ),\n                __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('img', { src: this.state.avatarImage, alt: '', height: 30 })\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'modal-field' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: 'organization-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('description')\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('textarea', {\n                id: 'organization-description',\n                name: 'description',\n                rows: '3',\n                maxLength: '256',\n                value: this.state.description,\n                disabled: this.state.loading,\n                onChange: function onChange(e) {\n                  return _this2.setState({ description: e.target.value });\n                }\n              }),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'modal-field-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.description.description')\n              )\n            ),\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              { className: 'modal-field' },\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'label',\n                { htmlFor: 'organization-url' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.url')\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('input', {\n                id: 'organization-url',\n                name: 'url',\n                type: 'text',\n                maxLength: '256',\n                value: this.state.url,\n                disabled: this.state.loading,\n                onChange: function onChange(e) {\n                  return _this2.setState({ url: e.target.value });\n                }\n              }),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'div',\n                { className: 'modal-field-description' },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('organization.url.description')\n              )\n            )\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n            'footer',\n            { className: 'modal-foot' },\n            __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n              'div',\n              null,\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { disabled: this.state.loading, type: 'submit' },\n                this.state.loading && _ref2,\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('create')\n              ),\n              __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\n                'button',\n                { type: 'reset', className: 'button-link', onClick: this.closeForm },\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__helpers_l10n__[\"translate\"])('cancel')\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return CreateOrganizationForm;\n}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.PureComponent);\n\nvar mapStateToProps = null;\n\nvar mapDispatchToProps = { createOrganization: __WEBPACK_IMPORTED_MODULE_6__organizations_actions__[\"j\" /* createOrganization */] };\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3_react_redux__[\"connect\"])(mapStateToProps, mapDispatchToProps)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_react_router__[\"withRouter\"])(CreateOrganizationForm)));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/49.baf4a38f.chunk.js","/*\n * SonarQube\n * Copyright (C) 2009-2017 SonarSource SA\n * mailto:info AT sonarsource DOT com\n *\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU Lesser General Public\n * License as published by the Free Software Foundation; either\n * version 3 of the License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with this program; if not, write to the Free Software Foundation,\n * Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n */\n// @flow\nimport React from 'react';\nimport Modal from 'react-modal';\nimport { debounce } from 'lodash';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { translate } from '../../../helpers/l10n';\nimport { createOrganization } from '../../organizations/actions';\n\ntype State = {\n  loading: boolean,\n  avatar: string,\n  avatarImage: string,\n  description: string,\n  key: string,\n  name: string,\n  url: string\n};\n\nclass CreateOrganizationForm extends React.PureComponent {\n  mounted: boolean;\n  state: State;\n  props: {\n    createOrganization: (fields: {}) => Promise<*>,\n    router: { push: string => void }\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      avatar: '',\n      avatarImage: '',\n      description: '',\n      key: '',\n      name: '',\n      url: ''\n    };\n    this.changeAvatarImage = debounce(this.changeAvatarImage, 500);\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  closeForm = () => {\n    this.props.router.push('/account/organizations');\n  };\n\n  stopProcessing = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n  };\n\n  stopProcessingAndClose = () => {\n    if (this.mounted) {\n      this.setState({ loading: false });\n    }\n    this.closeForm();\n  };\n\n  handleAvatarInputChange = (e: Object) => {\n    const { value } = e.target;\n    this.setState({ avatar: value });\n    this.changeAvatarImage(value);\n  };\n\n  changeAvatarImage = (value: string) => {\n    this.setState({ avatarImage: value });\n  };\n\n  handleSubmit = (e: Object) => {\n    e.preventDefault();\n    const organization: Object = { name: this.state.name };\n    if (this.state.avatar) {\n      Object.assign(organization, { avatar: this.state.avatar });\n    }\n    if (this.state.description) {\n      Object.assign(organization, { description: this.state.description });\n    }\n    if (this.state.key) {\n      Object.assign(organization, { key: this.state.key });\n    }\n    if (this.state.url) {\n      Object.assign(organization, { url: this.state.url });\n    }\n    this.setState({ loading: true });\n    this.props\n      .createOrganization(organization)\n      .then(this.stopProcessingAndClose, this.stopProcessing);\n  };\n\n  render() {\n    return (\n      <Modal\n        isOpen={true}\n        contentLabel=\"modal form\"\n        className=\"modal\"\n        overlayClassName=\"modal-overlay\"\n        onRequestClose={this.closeForm}>\n        <header className=\"modal-head\">\n          <h2>{translate('my_account.create_organization')}</h2>\n        </header>\n\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"modal-body\">\n            <div className=\"modal-field\">\n              <label htmlFor=\"organization-name\">\n                {translate('organization.name')}\n                <em className=\"mandatory\">*</em>\n              </label>\n              <input\n                id=\"organization-name\"\n                autoFocus={true}\n                name=\"name\"\n                required={true}\n                type=\"text\"\n                minLength=\"2\"\n                maxLength=\"64\"\n                value={this.state.name}\n                disabled={this.state.loading}\n                onChange={e => this.setState({ name: e.target.value })}\n              />\n              <div className=\"modal-field-description\">\n                {translate('organization.name.description')}\n              </div>\n            </div>\n            <div className=\"modal-field\">\n              <label htmlFor=\"organization-key\">\n                {translate('organization.key')}\n              </label>\n              <input\n                id=\"organization-key\"\n                name=\"key\"\n                type=\"text\"\n                minLength=\"2\"\n                maxLength=\"64\"\n                value={this.state.key}\n                disabled={this.state.loading}\n                onChange={e => this.setState({ key: e.target.value })}\n              />\n              <div className=\"modal-field-description\">\n                {translate('organization.key.description')}\n              </div>\n            </div>\n            <div className=\"modal-field\">\n              <label htmlFor=\"organization-avatar\">\n                {translate('organization.avatar')}\n              </label>\n              <input\n                id=\"organization-avatar\"\n                name=\"avatar\"\n                type=\"text\"\n                maxLength=\"256\"\n                value={this.state.avatar}\n                disabled={this.state.loading}\n                onChange={this.handleAvatarInputChange}\n              />\n              <div className=\"modal-field-description\">\n                {translate('organization.avatar.description')}\n              </div>\n              {!!this.state.avatarImage &&\n                <div className=\"spacer-top spacer-bottom\">\n                  <div className=\"little-spacer-bottom\">\n                    {translate('organization.avatar.preview')}\n                    {':'}\n                  </div>\n                  <img src={this.state.avatarImage} alt=\"\" height={30} />\n                </div>}\n            </div>\n            <div className=\"modal-field\">\n              <label htmlFor=\"organization-description\">\n                {translate('description')}\n              </label>\n              <textarea\n                id=\"organization-description\"\n                name=\"description\"\n                rows=\"3\"\n                maxLength=\"256\"\n                value={this.state.description}\n                disabled={this.state.loading}\n                onChange={e => this.setState({ description: e.target.value })}\n              />\n              <div className=\"modal-field-description\">\n                {translate('organization.description.description')}\n              </div>\n            </div>\n            <div className=\"modal-field\">\n              <label htmlFor=\"organization-url\">\n                {translate('organization.url')}\n              </label>\n              <input\n                id=\"organization-url\"\n                name=\"url\"\n                type=\"text\"\n                maxLength=\"256\"\n                value={this.state.url}\n                disabled={this.state.loading}\n                onChange={e => this.setState({ url: e.target.value })}\n              />\n              <div className=\"modal-field-description\">\n                {translate('organization.url.description')}\n              </div>\n            </div>\n          </div>\n\n          <footer className=\"modal-foot\">\n            <div>\n              <button disabled={this.state.loading} type=\"submit\">\n                {this.state.loading && <i className=\"spinner little-spacer-right\" />}\n                {translate('create')}\n              </button>\n              <button type=\"reset\" className=\"button-link\" onClick={this.closeForm}>\n                {translate('cancel')}\n              </button>\n            </div>\n          </footer>\n        </form>\n      </Modal>\n    );\n  }\n}\n\nconst mapStateToProps = null;\n\nconst mapDispatchToProps = { createOrganization };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(CreateOrganizationForm));\n\n\n\n// WEBPACK FOOTER //\n// ./src/main/js/apps/account/organizations/CreateOrganizationForm.js"],"sourceRoot":""}