webpackJsonp([15],{1659:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(10),c=n.n(l),s=n(0),u=n.n(s),p=n(22),m=n.n(p),d=n(8),h=(n.n(d),n(1895)),f=n(1960),y=n(214),b=n(1967),v=n(167),g=n(38),E=n(680),k=n(7),w=n(2),S=n(2311),q=(n.n(S),function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}()),C=function(e){function t(){var e,n,a,i;o(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=a=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),a.state={loading:!0,baseComponent:null,components:null,breadcrumbs:[],total:0,page:0,sourceViewer:null,error:null},i=n,r(a,i)}return i(t,e),q(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.handleComponentChange()}},{key:"componentDidUpdate",value:function(e){e.component!==this.props.component?this.handleComponentChange():e.location!==this.props.location&&this.handleUpdate()}},{key:"componentWillUnmount",value:function(){n.i(E.g)(),this.mounted=!1}},{key:"handleComponentChange",value:function(){var e=this,t=this.props.component;n.i(E.c)(t.key,t.breadcrumbs),this.setState({loading:!0});var a="VW"===t.qualifier||"SVW"===t.qualifier;n.i(g.b)(t.key,a).then(function(t){n.i(E.a)(t.baseComponent),e.handleUpdate()}).catch(function(t){e.mounted&&(e.setState({loading:!1}),n.i(g.a)(t).then(e.handleError.bind(e)))})}},{key:"loadComponent",value:function(e){var t=this;this.setState({loading:!0});var a="VW"===this.props.component.qualifier||"SVW"===this.props.component.qualifier;n.i(g.c)(e,a).then(function(e){t.mounted&&(["FIL","UTS"].includes(e.component.qualifier)?t.setState({loading:!1,sourceViewer:e.component,breadcrumbs:e.breadcrumbs,searchResults:null}):t.setState({loading:!1,baseComponent:e.component,components:e.components,breadcrumbs:e.breadcrumbs,total:e.total,page:e.page,sourceViewer:null,searchResults:null}))}).catch(function(e){t.mounted&&(t.setState({loading:!1}),n.i(g.a)(e).then(t.handleError.bind(t)))})}},{key:"handleUpdate",value:function(){var e=this.props,t=e.component,n=e.location,a=n.query.selected,o=a||t.key;this.loadComponent(o)}},{key:"handleLoadMore",value:function(){var e=this,t=this.state,o=t.baseComponent,r=t.page,i="VW"===this.props.component.qualifier||"SVW"===this.props.component.qualifier;n.i(g.d)(o.key,r+1,i).then(function(t){e.mounted&&e.setState({components:[].concat(a(e.state.components),a(t.components)),page:t.page,total:t.total})}).catch(function(t){e.mounted&&(e.setState({loading:!1}),n.i(g.a)(t).then(e.handleError.bind(e)))})}},{key:"handleError",value:function(e){this.mounted&&this.setState({error:e})}},{key:"render",value:function(){var e=this.props,t=e.component,a=e.location,o=this.state,r=o.loading,i=o.error,l=o.baseComponent,s=o.components,p=o.breadcrumbs,d=o.total,g=o.sourceViewer,E=!!g,k=!E&&s,S=Array.isArray(p)&&p.length>1,q=c()("spacer-top",{"new-loading":r});return u.a.createElement("div",{className:"page page-limited"},u.a.createElement(m.a,{title:n.i(w.translate)("code.page")}),i&&u.a.createElement("div",{className:"alert alert-danger"},i),u.a.createElement(b.a,{location:a,component:t,onError:this.handleError.bind(this)}),u.a.createElement("div",{className:"code-components"},S&&u.a.createElement(f.a,{rootComponent:t,breadcrumbs:p}),k&&u.a.createElement("div",{className:q},u.a.createElement(h.a,{rootComponent:t,baseComponent:l,components:s})),k&&u.a.createElement(v.a,{count:s.length,total:d,loadMore:this.handleLoadMore.bind(this)}),E&&u.a.createElement("div",{className:"spacer-top"},u.a.createElement(y.default,{component:g.key}))))}}]),t}(u.a.PureComponent),_=function(e,t){return{component:n.i(k.getComponent)(e,t.location.query.id)}};t.default=n.i(d.connect)(_)(C)},1894:function(e,t,n){"use strict";function a(e){return"FIL"!==e.qualifier&&"UTS"!==e.qualifier||!e.path?e.name+"\n\n"+e.key:e.path+"\n\n"+e.key}function o(e){for(var t=e.slice(0).sort(),n=t[0],a=n.length,o=t[t.length-1],r=0;r<a&&n.charAt(r)===o.charAt(r);)r++;var i=n.substr(0,r),l=i.split(/[\s\\\/]/),c=l[l.length-1];return i.substr(0,i.length-c.length)}var r=n(0),i=n.n(r),l=n(9),c=n(1968),s=n(85),u=function(e){var t=e.component,n=e.rootComponent,r=e.previous,u=e.canBrowse,p="DIR"===t.qualifier&&r&&"DIR"===r.qualifier,m=p?o([t.name+"/",r.name+"/"]):"",d=m?i.a.createElement("span",null,i.a.createElement("span",{style:{color:"#777"}},m),i.a.createElement("span",null,t.name.substr(m.length))):t.name,h=null;if(t.refKey&&"SVW"!==t.qualifier)h=i.a.createElement(l.Link,{to:{pathname:"/dashboard",query:{id:t.refKey}},className:"link-with-icon"},i.a.createElement(s.a,{qualifier:t.qualifier})," ",i.a.createElement("span",null,d));else if(u){var f={id:n.key};t.key!==n.key&&Object.assign(f,{selected:t.key}),h=i.a.createElement(l.Link,{to:{pathname:"/code",query:f},className:"link-with-icon"},i.a.createElement(s.a,{qualifier:t.qualifier})," ",i.a.createElement("span",null,d))}else h=i.a.createElement("span",null,i.a.createElement(s.a,{qualifier:t.qualifier})," ",d);return i.a.createElement(c.a,{title:a(t)},h)};t.a=u},1895:function(e,t,n){"use strict";function a(e){var t=e.rootComponent,n=e.baseComponent,a=e.components,o=e.selected;return r.a.createElement("table",{className:"data zebra"},r.a.createElement(c.a,{baseComponent:n,rootComponent:t}),n&&r.a.createElement("tbody",null,r.a.createElement(i.a,{key:n.key,rootComponent:t,component:n}),s),r.a.createElement("tbody",null,a.length?a.map(function(e,n,a){return r.a.createElement(i.a,{key:e.key,rootComponent:t,component:e,selected:e===o,previous:n>0?a[n-1]:null,canBrowse:!0})}):u))}t.a=a;var o=n(0),r=n.n(o),i=n(1961),l=n(1965),c=n(1966),s=r.a.createElement("tr",{className:"blank"},r.a.createElement("td",{colSpan:"8"}," ")),u=r.a.createElement(l.a,null)},1959:function(e,t,n){"use strict";function a(e){var t=e.rootComponent,n=e.component,a=e.canBrowse;return r.a.createElement(i.a,{rootComponent:t,component:n,canBrowse:a})}t.a=a;var o=n(0),r=n.n(o),i=n(1894)},1960:function(e,t,n){"use strict";function a(e){var t=e.rootComponent,n=e.breadcrumbs;return r.a.createElement("ul",{className:"code-breadcrumbs"},n.map(function(e,a){return r.a.createElement("li",{key:e.key},r.a.createElement(i.a,{rootComponent:t,component:e,canBrowse:a<n.length-1}))}))}t.a=a;var o=n(0),r=n.n(o),i=n(1959)},1961:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(10),l=n.n(i),c=n(0),s=n.n(c),u=n(31),p=n.n(u),m=n(1894),d=n(1963),h=n(1962),f=n(1964),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),y(t,[{key:"componentDidMount",value:function(){this.handleUpdate()}},{key:"componentDidUpdate",value:function(){this.handleUpdate()}},{key:"handleUpdate",value:function(){var e=this;this.props.selected&&setTimeout(function(){e.handleScroll()},0)}},{key:"handleScroll",value:function(){var e=p.a.findDOMNode(this),t=e.getBoundingClientRect(),n=t.top,a=t.bottom;a>window.innerHeight-10?window.scrollTo(0,a-window.innerHeight+window.scrollY+10):n<200&&window.scrollTo(0,n+window.scrollY-200)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.rootComponent,a=e.selected,o=e.previous,r=e.canBrowse,i=["VW","SVW"].includes(n.qualifier),c=null;if(!t.refKey||"SVW"===t.qualifier)switch(t.qualifier){case"FIL":case"UTS":c=s.a.createElement(f.a,{component:t});break;default:c=s.a.createElement(h.a,{component:t})}var u=i?[{metric:"releasability_rating",type:"RATING"},{metric:"reliability_rating",type:"RATING"},{metric:"security_rating",type:"RATING"},{metric:"sqale_rating",type:"RATING"},{metric:"ncloc",type:"SHORT_INT"}]:[{metric:"ncloc",type:"SHORT_INT"},{metric:"bugs",type:"SHORT_INT"},{metric:"vulnerabilities",type:"SHORT_INT"},{metric:"code_smells",type:"SHORT_INT"},{metric:"coverage",type:"PERCENT"},{metric:"duplicated_lines_density",type:"PERCENT"}];return s.a.createElement("tr",{className:l()({selected:a})},s.a.createElement("td",{className:"thin nowrap"},s.a.createElement("span",{className:"spacer-right"},c)),s.a.createElement("td",{className:"code-name-cell"},s.a.createElement(m.a,{component:t,rootComponent:n,previous:o,canBrowse:r})),u.map(function(e){return s.a.createElement("td",{key:e.metric,className:"thin nowrap text-right"},s.a.createElement("div",{className:"code-components-cell"},s.a.createElement(d.a,{component:t,metricKey:e.metric,metricType:e.type})))}))}}]),t}(s.a.PureComponent);t.a=b},1962:function(e,t,n){"use strict";function a(e){var t=e.component;return r.a.createElement(i.Link,{to:{pathname:"/dashboard",query:{id:t.refKey||t.key}},className:"icon-detach",title:n.i(l.translate)("code.open_component_page")})}t.a=a;var o=n(0),r=n.n(o),i=n(9),l=n(2)},1963:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(327),i=o.a.createElement("span",null),l=function(e){var t=e.component,n=e.metricKey,a=e.metricType,l="TRK"===t.qualifier,c="releasability_rating"===n,s=l&&c?"alert_status":n,u=l&&c?"LEVEL":a,p=Array.isArray(t.measures)&&t.measures.find(function(e){return e.metric===s});return p?o.a.createElement(r.a,{measure:p,metric:{key:s,type:u}}):i};t.a=l},1964:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(169),i=n(2250),l=n(2),c=o.a.createElement(i.a,null),s=function(e){var t=e.component,a=function(e){e.preventDefault(),r.default.openComponent({key:t.key})};return o.a.createElement("a",{className:"link-no-underline",onClick:a,title:n.i(l.translate)("component_viewer.open_in_workspace"),href:"#"},c)};t.a=s},1965:function(e,t,n){"use strict";function a(){return r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"2"},n.i(i.translate)("no_results")),l)}t.a=a;var o=n(0),r=n.n(o),i=n(2),l=r.a.createElement("td",{colSpan:"6"})},1966:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(2),i=o.a.createElement("th",{className:"thin nowrap"}," "),l=o.a.createElement("th",null," "),c=function(e){var t=e.baseComponent,a=e.rootComponent,c="VW"===a.qualifier||"SVW"===a.qualifier,s=c?[n.i(r.translate)("metric_domain.Releasability"),n.i(r.translate)("metric_domain.Reliability"),n.i(r.translate)("metric_domain.Security"),n.i(r.translate)("metric_domain.Maintainability"),n.i(r.translate)("metric","ncloc","name")]:[n.i(r.translate)("metric","ncloc","name"),n.i(r.translate)("metric","bugs","name"),n.i(r.translate)("metric","vulnerabilities","name"),n.i(r.translate)("metric","code_smells","name"),n.i(r.translate)("metric","coverage","name"),n.i(r.translate)("metric","duplicated_lines_density","short_name")];return o.a.createElement("thead",null,o.a.createElement("tr",{className:"code-components-header"},i,l,s.map(function(e){return o.a.createElement("th",{key:e,className:"thin nowrap text-right code-components-cell"},t&&e)})))};t.a=c},1967:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),l=n.n(i),c=n(10),s=n.n(c),u=n(4),p=(n.n(u),n(1895)),m=n(40),d=n(2),h=n(38),f=n(48),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),b=l.a.createElement("button",{className:"search-box-submit button-clean"},l.a.createElement("i",{className:"icon-search"})),v=l.a.createElement("i",{className:"spinner spacer-left"}),g=function(e){function t(){var e,n,r,i;a(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.state={query:"",loading:!1,results:null,selectedIndex:null},i=n,o(r,i)}return r(t,e),y(t,[{key:"componentWillMount",value:function(){this.handleSearch=n.i(u.debounce)(this.handleSearch.bind(this),250)}},{key:"componentDidMount",value:function(){this.mounted=!0,this.refs.input.focus()}},{key:"componentWillReceiveProps",value:function(e){e.location!==this.props.location&&this.setState({query:"",loading:!1,results:null,selectedIndex:null})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"checkInputValue",value:function(e){return this.refs.input.value===e}},{key:"handleSelectNext",value:function(){var e=this.state,t=e.selectedIndex,n=e.results;null!=n&&null!=t&&t<n.length-1&&this.setState({selectedIndex:t+1})}},{key:"handleSelectPrevious",value:function(){var e=this.state,t=e.selectedIndex;null!=e.results&&null!=t&&t>0&&this.setState({selectedIndex:t-1})}},{key:"handleSelectCurrent",value:function(){var e=this.props.component,t=this.state,a=t.results,o=t.selectedIndex;if(null!=a&&null!=o){var r=a[o];r.refKey?window.location=n.i(f.j)(r.refKey):this.context.router.push({pathname:"/code",query:{id:e.key,selected:r.key}})}}},{key:"handleKeyDown",value:function(e){switch(e.keyCode){case 13:e.preventDefault(),this.handleSelectCurrent();break;case 38:e.preventDefault(),this.handleSelectPrevious();break;case 40:e.preventDefault(),this.handleSelectNext()}}},{key:"handleSearch",value:function(e){var t=this;this.mounted&&this.checkInputValue(e)&&function(){var a=t.props,o=a.component,r=a.onError;t.setState({loading:!0});var i="VW"===o.qualifier||"SVW"===o.qualifier,l=i?"SVW,TRK":"BRC,UTS,FIL";n.i(m.j)(o.key,{q:e,s:"qualifier,name",qualifiers:l}).then(function(n){t.mounted&&t.checkInputValue(e)&&t.setState({results:n.components,selectedIndex:n.components.length>0?0:null,loading:!1})}).catch(function(a){t.mounted&&t.checkInputValue(e)&&(t.setState({loading:!1}),n.i(h.a)(a).then(r))})}()}},{key:"handleQueryChange",value:function(e){this.setState({query:e}),e.length<3?this.setState({results:null}):this.handleSearch(e)}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.handleQueryChange(t)}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.refs.input.value;this.handleQueryChange(t)}},{key:"render",value:function(){var e=this.props.component,t=this.state,a=t.query,o=t.loading,r=t.selectedIndex,i=t.results,c=null!=r&&null!=i?i[r]:null,u=s()("code-search",{"code-search-with-results":null!=i}),m=s()("search-box-input",{touched:a.length>0&&a.length<3});return l.a.createElement("div",{id:"code-search",className:u},l.a.createElement("form",{className:"search-box",onSubmit:this.handleSubmit.bind(this)},b,l.a.createElement("input",{ref:"input",onKeyDown:this.handleKeyDown.bind(this),onChange:this.handleInputChange.bind(this),value:a,className:m,type:"search",name:"q",placeholder:n.i(d.translate)("search_verb"),maxLength:"100",autoComplete:"off"}),o&&v,l.a.createElement("span",{className:"note spacer-left"},n.i(d.translateWithParameters)("select2.tooShort",3))),null!=i&&l.a.createElement(p.a,{rootComponent:e,components:i,selected:c}))}}]),t}(l.a.PureComponent);g.contextTypes={router:l.a.PropTypes.object.isRequired},g.propTypes={component:l.a.PropTypes.object.isRequired,location:l.a.PropTypes.object.isRequired,onError:l.a.PropTypes.func.isRequired},t.a=g},1968:function(e,t,n){"use strict";function a(e){var t=e.children,n=e.title;return r.a.createElement("span",{className:"code-truncated",title:n},t)}t.a=a;var o=n(0),r=n.n(o)},2250:function(e,t,n){"use strict";function a(){return i}t.a=a;var o=n(0),r=n.n(o),i=r.a.createElement("svg",{width:"9",height:"14",viewBox:"0 0 288 448"},r.a.createElement("path",{fill:"#236a97",d:"M120 216v-112q0-3.5-2.25-5.75t-5.75-2.25-5.75 2.25-2.25 5.75v112q0 3.5 2.25 5.75t5.75 2.25 5.75-2.25 2.25-5.75zM288 304q0 6.5-4.75 11.25t-11.25 4.75h-107.25l-12.75 120.75q-0.5 3-2.625 5.125t-5.125 2.125h-0.25q-6.75 0-8-6.75l-19-121.25h-101q-6.5 0-11.25-4.75t-4.75-11.25q0-30.75 19.625-55.375t44.375-24.625v-128q-13 0-22.5-9.5t-9.5-22.5 9.5-22.5 22.5-9.5h160q13 0 22.5 9.5t9.5 22.5-9.5 22.5-22.5 9.5v128q24.75 0 44.375 24.625t19.625 55.375z"}))},2257:function(e,t,n){t=e.exports=n(36)(void 0),t.push([e.i,'.code-breadcrumbs {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.code-breadcrumbs > li {\n  padding: 5px 5px 3px;\n}\n\n.code-breadcrumbs > li:first-child {\n  padding-left: 0;\n}\n\n.code-breadcrumbs > li::after {\n  position: relative;\n  top: -1px;\n  padding-left: 10px;\n  color: #777;\n  font-size: 11px;\n  content: ">";\n}\n\n.code-breadcrumbs > li:last-child::after {\n  display: none;\n}\n\n.code-components-cell {\n  min-width: 80px;\n  padding-left: 30px !important;\n  box-sizing: border-box;\n}\n\n.code-truncated {\n  display: inline-block;\n  vertical-align: text-top;\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.code-name-cell {\n  max-width: 0;\n}\n\n.code-name-cell .code-truncated {\n  max-width: 100%;\n}\n\n.code-search {\n  margin-bottom: 10px;\n}\n\n.code-search-with-results + .code-components {\n  display: none;\n}\n\n.code-search .search-box {\n  padding-right: 10px;\n}\n\n.code-search .search-box .note {\n  vertical-align: middle;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.code-search .search-box input.touched ~ .note {\n  opacity: 1;\n}\n\n.code-components-header {\n  position: -webkit-sticky;\n  position: sticky;\n  top: 95px;\n  background-color: rgba(255, 255, 255, 0.9);\n}\n',""])},2311:function(e,t,n){var a=n(2257);"string"==typeof a&&(a=[[e.i,a,""]]);var o={};o.transform=void 0;n(37)(a,o);a.locals&&(e.exports=a.locals)}});
//# sourceMappingURL=15.83a5ced3.chunk.js.map