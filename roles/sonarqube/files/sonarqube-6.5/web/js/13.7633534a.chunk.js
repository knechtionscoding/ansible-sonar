webpackJsonp([13],{1679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),i=(n.n(a),n(666)),r=n(2109),o=n(7),l=function(e){return n.i(o.getQualityGatesAppState)(e)},s=function(e){return{onShow:function(t){return e(n.i(i.l)(t))},onDelete:function(t){return e(n.i(i.m)(t))},onRename:function(t,a){return e(n.i(i.n)(t,a))},onCopy:function(t){return e(n.i(i.o)(t))},onSetAsDefault:function(t){return e(n.i(i.p)(t))},onUnsetAsDefault:function(t){return e(n.i(i.q)(t))},onAddCondition:function(t){return e(n.i(i.r)(t))},onSaveCondition:function(t,a){return e(n.i(i.s)(t,a))},onDeleteCondition:function(t){return e(n.i(i.t)(t))}}};t.default=n.i(a.connect)(l,s)(r.a)},1781:function(e,t,n){function a(e){return e&&(e.__esModule?e.default:e)}var i=n(5);e.exports=(i.default||i).template({1:function(e,t,i,r){return(0,this.escapeExpression)(a(n(1)).call(e,"save",{name:"t",hash:{},data:r}))},3:function(e,t,i,r){return(0,this.escapeExpression)(a(n(1)).call(e,"copy",{name:"t",hash:{},data:r}))},5:function(e,t,i,r){return(0,this.escapeExpression)(a(n(1)).call(e,"create",{name:"t",hash:{},data:r}))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,r){var o,l=this.escapeExpression,s=this.lambda,c='<form id="quality-gate-form">\n  <div class="modal-head">\n    <h2>'+l(a(n(1)).call(e,"quality_gates",null!=e?e.method:e,{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    <div class="modal-field">\n      <label for="quality-gate-form-name">'+l(a(n(1)).call(e,"name",{name:"t",hash:{},data:r}))+' <em class="mandatory">*</em></label>\n      <input id="quality-gate-form-name" type="text" size="50" maxlength="100" value="'+l(s(null!=e?e.name:e,e))+'" required>\n    </div>\n  </div>\n  <div class="modal-foot">\n    <button id="quality-gate-form-submit">\n      ';return o=a(n(12)).call(e,null!=e?e.method:e,"rename",{name:"eq",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+="\n      ",o=a(n(12)).call(e,null!=e?e.method:e,"copy",{name:"eq",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+="\n      ",o=a(n(12)).call(e,null!=e?e.method:e,"create",{name:"eq",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),null!=o&&(c+=o),c+'\n    </button>\n    <a id="quality-gate-form-cancel" href="#" class="js-modal-close">'+l(a(n(1)).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})},2105:function(e,t,n){"use strict";function a(e){function t(e){var t=e.value;i(t)}var a=e.metrics,i=e.onSelect,o=a.filter(function(e){return!e.hidden}),u=n.i(s.sortBy)(o,"domain"),d=u.map(function(e){return{value:e.key,label:n.i(c.getLocalizedMetricName)(e),domain:e.domain}}),p=[];return d.forEach(function(e,t,a){var i=t>0?a[t-1]:null;i&&i.domain===e.domain||p.push({value:e.domain,label:n.i(c.getLocalizedMetricDomain)(e.domain),disabled:!0}),p.push(e)}),r.a.createElement("div",{className:"big-spacer-top panel bg-muted"},r.a.createElement(l.a,{id:"quality-gate-new-condition-metric",className:"text-middle input-large",options:p,placeholder:n.i(c.translate)("quality_gates.add_condition"),onChange:t}))}t.a=a;var i=n(0),r=n.n(i),o=n(56),l=n.n(o),s=n(4),c=(n.n(s),n(2))},2106:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(56),c=n.n(s),u=n(2116),d=n(2120),p=n(215),h=n(646),f=n(2),m=n(24),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.state={changed:!1,period:e.condition.period,op:e.condition.op,warning:e.condition.warning||"",error:e.condition.error||""},n}return r(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.condition.id||this.refs.operator.focus()}},{key:"handleChange",value:function(){this.setState({changed:!0})}},{key:"handleOperatorChange",value:function(e){var t=e.value;this.setState({changed:!0,op:t})}},{key:"handlePeriodChange",value:function(e){var t=e?"1":void 0;this.setState({changed:!0,period:t})}},{key:"handleWarningChange",value:function(e){this.setState({changed:!0,warning:e})}},{key:"handleErrorChange",value:function(e){this.setState({changed:!0,error:e})}},{key:"handleSaveClick",value:function(e){var t=this,a=this.props,i=a.qualityGate,r=a.condition,o=a.metric,l=a.onSaveCondition,s=a.onError,c=a.onResetError,u=this.state.period,d={metric:r.metric,op:"RATING"===o.type?"GT":this.state.op,warning:this.state.warning,error:this.state.error};u&&"RATING"!==o.type&&(d.period=u),0===o.key.indexOf("new_")&&(d.period="1"),e.preventDefault(),n.i(h.h)(i.id,d).then(function(e){t.setState({changed:!1}),l(r,e),c()}).catch(function(e){return s(e)})}},{key:"handleUpdateClick",value:function(e){var t=this,a=this.props,i=a.condition,r=a.onSaveCondition,o=a.metric,l=a.onError,s=a.onResetError,c=this.state.period,u={id:i.id,metric:i.metric,op:"RATING"===o.type?"GT":this.state.op,warning:this.state.warning,error:this.state.error};c&&"RATING"!==o.type&&(u.period=c),0===o.key.indexOf("new_")&&(u.period="1"),e.preventDefault(),n.i(h.i)(u).then(function(e){t.setState({changed:!1}),r(i,e),s()}).catch(function(e){return l(e)})}},{key:"handleDeleteClick",value:function(e){var t=this.props,n=t.qualityGate,a=t.condition,i=t.metric,r=t.onDeleteCondition;e.preventDefault(),new d.a({qualityGate:n,condition:a,metric:i,onDelete:function(){return r(a)}}).render()}},{key:"handleCancelClick",value:function(e){var t=this.props,n=t.condition,a=t.onDeleteCondition;e.preventDefault(),a(n)}},{key:"renderPeriodValue",value:function(){var e=this.props,t=e.condition,a=e.metric,i=!!this.state.period,r=0===t.metric.indexOf("new_"),o="RATING"===a.type;return r?l.a.createElement("span",{className:"note"},n.i(f.translate)("quality_gates.condition.leak.unconditional")):o?l.a.createElement("span",{className:"note"},n.i(f.translate)("quality_gates.condition.leak.never")):i?n.i(f.translate)("quality_gates.condition.leak.yes"):n.i(f.translate)("quality_gates.condition.leak.no")}},{key:"renderPeriod",value:function(){var e=this.props,t=e.condition,n=e.metric,a=e.edit,i=0===t.metric.indexOf("new_"),r="RATING"===n.type,o=!!this.state.period;return r||i||!a?this.renderPeriodValue():l.a.createElement(p.a,{checked:o,onCheck:this.handlePeriodChange.bind(this)})}},{key:"renderOperator",value:function(){var e=this.props,t=e.condition,a=e.edit,i=e.metric;if(!a)return"RATING"===i.type?n.i(f.translate)("quality_gates.operator",t.op,"rating"):n.i(f.translate)("quality_gates.operator",t.op);if("RATING"===i.type)return l.a.createElement("span",{className:"note"},n.i(f.translate)("quality_gates.operator.GT.rating"));var r=["LT","GT","EQ","NE"],o=r.map(function(e){return{label:n.i(f.translate)("quality_gates.operator",e),value:e}});return l.a.createElement(c.a,{ref:"operator",className:"input-medium",name:"operator",value:this.state.op,clearable:!1,searchable:!1,options:o,onChange:this.handleOperatorChange.bind(this)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.condition,i=t.edit,r=t.metric;return l.a.createElement("tr",null,l.a.createElement("td",{className:"text-middle nowrap"},n.i(f.getLocalizedMetricName)(r),r.hidden&&l.a.createElement("span",{className:"text-danger little-spacer-left"},n.i(f.translate)("deprecated"))),l.a.createElement("td",{className:"thin text-middle nowrap"},this.renderPeriod()),l.a.createElement("td",{className:"thin text-middle nowrap"},this.renderOperator()),l.a.createElement("td",{className:"thin text-middle nowrap"},i?l.a.createElement(u.a,{name:"warning",value:this.state.warning,metric:r,onChange:function(t){return e.handleWarningChange(t)}}):n.i(m.formatMeasure)(a.warning,r.type)),l.a.createElement("td",{className:"thin text-middle nowrap"},i?l.a.createElement(u.a,{name:"error",value:this.state.error,metric:r,onChange:function(t){return e.handleErrorChange(t)}}):n.i(m.formatMeasure)(a.error,r.type)),i&&l.a.createElement("td",{className:"thin text-middle nowrap"},a.id?l.a.createElement("div",{className:"button-group"},l.a.createElement("button",{className:"update-condition",disabled:!this.state.changed,onClick:this.handleUpdateClick.bind(this)},n.i(f.translate)("update_verb")),l.a.createElement("button",{className:"button-red delete-condition",onClick:this.handleDeleteClick.bind(this)},n.i(f.translate)("delete"))):l.a.createElement("div",{className:"button-group"},l.a.createElement("button",{className:"add-condition",onClick:this.handleSaveClick.bind(this)},n.i(f.translate)("add_verb")),l.a.createElement("a",{className:"action cancel-add-condition",href:"#",onClick:this.handleCancelClick.bind(this)},n.i(f.translate)("cancel")))))}}]),t}(o.Component);t.a=v},2107:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){return e.id?e.id:"new-"+t}var l=n(0),s=n.n(l),c=n(4),u=(n.n(c),n(2108)),d=n(2105),p=n(2106),h=n(2),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=s.a.createElement(u.a,null),y=s.a.createElement("th",null),v=function(e){function t(){var e,n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={error:null},o=n,i(r,o)}return r(t,e),f(t,[{key:"componentWillUpdate",value:function(e){e.qualityGate!==this.props.qualityGate&&this.setState({error:null})}},{key:"handleError",value:function(e){var t=this;try{e.response.json().then(function(e){var n=e.errors.map(function(e){return e.msg}).join(". ");t.setState({error:n})})}catch(e){this.setState({error:n.i(h.translate)("default_error_message")})}}},{key:"handleResetError",value:function(){this.setState({error:null})}},{key:"render",value:function(){var e=this,t=this.props,a=t.qualityGate,i=t.conditions,r=t.metrics,l=t.edit,u=t.onAddCondition,f=t.onSaveCondition,v=t.onDeleteCondition,b=n.i(c.sortBy)(i,function(e){return r.find(function(t){return t.key===e.metric}).name}),g=[],w=i.filter(function(e){return null!=e.id});w.forEach(function(e){w.filter(function(t){return t.metric===e.metric&&t.period===e.period}).length>1&&g.push(e)});var E=n.i(c.uniqBy)(g,function(e){return e.metric}).map(function(e){var t=r.find(function(t){return t.key===e.metric});return Object.assign({},e,{metric:t})});return s.a.createElement("div",{id:"quality-gate-conditions",className:"quality-gate-section"},s.a.createElement("h3",{className:"spacer-bottom"},n.i(h.translate)("quality_gates.conditions")),m,this.state.error&&s.a.createElement("div",{className:"alert alert-danger"},this.state.error),E.length>0&&s.a.createElement("div",{className:"alert alert-warning"},s.a.createElement("p",null,n.i(h.translate)("quality_gates.duplicated_conditions")),s.a.createElement("ul",{className:"list-styled spacer-top"},E.map(function(e){return s.a.createElement("li",{key:e.metric.key},n.i(h.getLocalizedMetricName)(e.metric))}))),b.length?s.a.createElement("table",{id:"quality-gate-conditions",className:"data zebra zebra-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"nowrap"},n.i(h.translate)("quality_gates.conditions.metric")),s.a.createElement("th",{className:"thin nowrap"},n.i(h.translate)("quality_gates.conditions.leak")),s.a.createElement("th",{className:"thin nowrap"},n.i(h.translate)("quality_gates.conditions.operator")),s.a.createElement("th",{className:"thin nowrap"},n.i(h.translate)("quality_gates.conditions.warning")),s.a.createElement("th",{className:"thin nowrap"},n.i(h.translate)("quality_gates.conditions.error")),l&&y)),s.a.createElement("tbody",null,b.map(function(t,n){return s.a.createElement(p.a,{key:o(t,n),qualityGate:a,condition:t,metric:r.find(function(e){return e.key===t.metric}),edit:l,onSaveCondition:f,onDeleteCondition:v,onError:e.handleError.bind(e),onResetError:e.handleResetError.bind(e)})}))):s.a.createElement("div",{className:"big-spacer-top"},n.i(h.translate)("quality_gates.no_conditions")),l&&s.a.createElement(d.a,{metrics:r,onSelect:u}))}}]),t}(s.a.PureComponent);t.a=v},2108:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(2),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=l.a.createElement("i",{className:"icon-alert-ok"}),d=l.a.createElement("i",{className:"icon-alert-warn"}),p=l.a.createElement("i",{className:"icon-alert-error"}),h=function(e){function t(){var e,n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={expanded:!1},o=n,i(r,o)}return r(t,e),c(t,[{key:"handleMoreClick",value:function(e){e.preventDefault(),this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.state.expanded;return l.a.createElement("div",{className:"big-spacer-bottom"},n.i(s.translate)("quality_gates.introduction"),!e&&l.a.createElement("a",{className:"spacer-left",href:"#",onClick:this.handleMoreClick.bind(this)},n.i(s.translate)("more")),e&&l.a.createElement("div",{className:"spacer-top"},n.i(s.translate)("quality_gates.health_icons"),l.a.createElement("ul",null,l.a.createElement("li",{className:"little-spacer-top"},u," ",n.i(s.translate)("alerts.notes.ok")),l.a.createElement("li",{className:"little-spacer-top"},d," ",n.i(s.translate)("alerts.notes.warn")),l.a.createElement("li",{className:"little-spacer-top"},p," ",n.i(s.translate)("alerts.notes.error")))))}}]),t}(o.Component);t.a=h},2109:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(22),c=n.n(s),u=n(646),d=n(2111),p=n(2110),h=n(2122),f=n(2117),m=n(2119),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=l.a.createElement("h2",{className:"search-navigator-header-component"},"Â "),b=l.a.createElement("div",{className:"search-navigator-workspace-details"}),g=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),y(t,[{key:"componentDidMount",value:function(){this.fetchDetails()}},{key:"componentDidUpdate",value:function(e){e.params.id!==this.props.params.id&&this.fetchDetails()}},{key:"fetchDetails",value:function(){var e=this.props.params.id,t=this.props.onShow;n.i(u.e)(e).then(function(e){t(e)})}},{key:"handleRenameClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onRename;new h.a({qualityGate:t,onRename:function(e,t){n(e,t)}}).render()}},{key:"handleCopyClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onCopy,a=this.context.router;new f.a({qualityGate:t,onCopy:function(e){n(e),a.push("/quality_gates/show/"+e.id)}}).render()}},{key:"handleSetAsDefaultClick",value:function(){var e=this.props,t=e.qualityGate,a=e.onSetAsDefault,i=e.onUnsetAsDefault;t.isDefault?n.i(u.f)(t.id).then(function(){return i(t)}):n.i(u.g)(t.id).then(function(){return a(t)})}},{key:"handleDeleteClick",value:function(){var e=this.props,t=e.qualityGate,n=e.onDelete,a=this.context.router;new m.a({qualityGate:t,onDelete:function(e){n(e),a.replace("/quality_gates")}}).render()}},{key:"render",value:function(){var e=this.props,t=e.qualityGate,n=e.edit,a=e.metrics,i=this.props,r=i.onAddCondition,o=i.onDeleteCondition,s=i.onSaveCondition;return t?l.a.createElement("div",{className:"search-navigator-workspace"},l.a.createElement(c.a,{title:t.name}),l.a.createElement(d.a,{qualityGate:t,edit:n,onRename:this.handleRenameClick.bind(this),onCopy:this.handleCopyClick.bind(this),onSetAsDefault:this.handleSetAsDefaultClick.bind(this),onDelete:this.handleDeleteClick.bind(this)}),l.a.createElement(p.a,{gate:t,canEdit:n,metrics:a,onAddCondition:r,onSaveCondition:s,onDeleteCondition:o})):l.a.createElement("div",{className:"search-navigator-workspace"},l.a.createElement("div",{className:"search-navigator-workspace-header",style:{top:30}},v),b)}}]),t}(o.Component);t.a=g,g.contextTypes={router:l.a.PropTypes.object.isRequired}},2110:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(2107),c=n(2114),u=n(2),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.gate,a=e.canEdit,i=e.metrics,r=this.props,o=r.onAddCondition,d=r.onDeleteCondition,p=r.onSaveCondition,h=t.conditions||[],f=a?n.i(u.translate)("quality_gates.projects_for_default.edit"):n.i(u.translate)("quality_gates.projects_for_default");return l.a.createElement("div",{ref:"container",className:"search-navigator-workspace-details"},l.a.createElement(s.a,{qualityGate:t,conditions:h,metrics:i,edit:a,onAddCondition:o,onSaveCondition:p,onDeleteCondition:d}),l.a.createElement("div",{id:"quality-gate-projects",className:"quality-gate-section"},l.a.createElement("h3",{className:"spacer-bottom"},n.i(u.translate)("quality_gates.projects")),t.isDefault?f:l.a.createElement(c.a,{qualityGate:t,edit:a})))}}]),t}(o.Component);t.a=p},2111:function(e,t,n){"use strict";function a(e){function t(e){e.preventDefault(),u()}function a(e){e.preventDefault(),d()}function i(e){e.preventDefault(),p()}function l(e){e.preventDefault(),h()}var s=e.qualityGate,c=e.edit,u=e.onRename,d=e.onCopy,p=e.onSetAsDefault,h=e.onDelete;return r.a.createElement("div",{className:"search-navigator-workspace-header",style:{top:30}},r.a.createElement("h2",{className:"search-navigator-header-component"},s.name),c&&r.a.createElement("div",{className:"search-navigator-header-actions"},r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{id:"quality-gate-rename",onClick:t},n.i(o.translate)("rename")),r.a.createElement("button",{id:"quality-gate-copy",onClick:a},n.i(o.translate)("copy")),r.a.createElement("button",{id:"quality-gate-toggle-default",onClick:i},s.isDefault?n.i(o.translate)("unset_as_default"):n.i(o.translate)("set_as_default")),r.a.createElement("button",{id:"quality-gate-delete",className:"button-red",onClick:l},n.i(o.translate)("delete")))))}t.a=a;var i=n(0),r=n.n(i),o=n(2)},2114:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(2121),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),c(t,[{key:"componentDidMount",value:function(){this.renderView()}},{key:"componentWillUpdate",value:function(){this.destroyView()}},{key:"componentDidUpdate",value:function(){this.renderView()}},{key:"componentWillUnmount",value:function(){this.destroyView()}},{key:"destroyView",value:function(){this.projectsView&&this.projectsView.destroy()}},{key:"renderView",value:function(){var e=this.props,t=e.qualityGate,n=e.edit;this.projectsView=new s.a({qualityGate:t,edit:n,container:this.refs.container}),this.projectsView.render()}},{key:"render",value:function(){return l.a.createElement("div",{ref:"container"})}}]),t}(o.Component);t.a=u},2116:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(0),l=n.n(o),s=n(56),c=n.n(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(){var e,n,r,o;a(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleChange=function(e){r.props.onChange(e.target.value)},r.handleSelectChange=function(e){e?r.props.onChange(e.value):r.props.onChange("")},o=n,i(r,o)}return r(t,e),u(t,[{key:"renderRatingInput",value:function(){var e=this.props,t=e.name,n=e.value,a=[{label:"A",value:"1"},{label:"B",value:"2"},{label:"C",value:"3"},{label:"D",value:"4"}],i=""===n?null:n;return l.a.createElement(c.a,{className:"input-tiny text-middle",name:t,value:i,options:a,searchable:!1,placeholder:"",onChange:this.handleSelectChange})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.metric;return"RATING"===a.type?this.renderRatingInput():l.a.createElement("input",{name:t,type:"text",className:"input-tiny text-middle",value:n,"data-type":a.type,placeholder:a.placeholder,onChange:this.handleChange})}}]),t}(l.a.PureComponent);d.propTypes={name:l.a.PropTypes.string.isRequired,value:l.a.PropTypes.any,metric:l.a.PropTypes.object.isRequired,onChange:l.a.PropTypes.func.isRequired},t.a=d},2117:function(e,t,n){"use strict";var a=n(30),i=n(1781),r=n.n(i),o=n(646),l=n(38);t.a=a.a.extend({template:r.a,onFormSubmit:function(){a.a.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id,a=this.$("#quality-gate-form-name").val();n.i(o.l)(t,a).then(function(t){e.destroy(),e.options.onCopy(t)},function(t){e.enableForm(),n.i(l.a)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return Object.assign({method:"copy"},this.options.qualityGate)}})},2119:function(e,t,n){"use strict";var a=n(30),i=n(2282),r=n.n(i),o=n(646),l=n(38);t.a=a.a.extend({template:r.a,onFormSubmit:function(){a.a.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id;n.i(o.k)(t).then(function(){e.destroy(),e.options.onDelete(e.options.qualityGate)},function(t){e.enableForm(),n.i(l.a)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return this.options.qualityGate}})},2120:function(e,t,n){"use strict";var a=n(30),i=n(2281),r=n.n(i),o=n(646),l=n(2),s=n(38);t.a=a.a.extend({template:r.a,onFormSubmit:function(){a.a.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this;return n.i(o.j)(this.options.condition.id).then(function(){e.destroy(),e.options.onDelete()},function(t){e.enableForm(),n.i(s.a)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return{metric:this.options.metric,localizedMetricName:n.i(l.getLocalizedMetricName)(this.options.metric)}}})},2121:function(e,t,n){"use strict";var a=n(13),i=n.n(a),r=n(171),o=n.n(r),l=(n(670),n(2));t.a=i.a.ItemView.extend({template:function(){},onRender:function(){var e=this.options.qualityGate;new window.SelectList({el:this.options.container,width:"100%",readOnly:!this.options.edit,focusSearch:!1,dangerouslyUnescapedHtmlFormat:function(e){return o()(e.name)},searchUrl:window.baseUrl+"/api/qualitygates/search?gateId="+e.id,selectUrl:window.baseUrl+"/api/qualitygates/select",deselectUrl:window.baseUrl+"/api/qualitygates/deselect",extra:{gateId:e.id},selectParameter:"projectId",selectParameterValue:"id",labels:{selected:n.i(l.translate)("quality_gates.projects.with"),deselected:n.i(l.translate)("quality_gates.projects.without"),all:n.i(l.translate)("quality_gates.projects.all"),noResults:n.i(l.translate)("quality_gates.projects.noResults")},tooltips:{select:n.i(l.translate)("quality_gates.projects.select_hint"),deselect:n.i(l.translate)("quality_gates.projects.deselect_hint")}})},serializeData:function(){return Object.assign({},i.a.ItemView.prototype.serializeData.apply(this,arguments),{canEdit:this.options.edit})}})},2122:function(e,t,n){"use strict";var a=n(30),i=n(1781),r=n.n(i),o=n(646),l=n(38);t.a=a.a.extend({template:r.a,onFormSubmit:function(){a.a.prototype.onFormSubmit.apply(this,arguments),this.disableForm(),this.sendRequest()},sendRequest:function(){var e=this,t=this.options.qualityGate.id,a=this.$("#quality-gate-form-name").val();n.i(o.m)(t,a).then(function(){e.destroy(),e.options.onRename(e.options.qualityGate,a)},function(t){e.enableForm(),n.i(l.a)(t).then(function(t){return e.showErrors([{msg:t}])})})},serializeData:function(){return Object.assign({method:"rename"},this.options.qualityGate)}})},2281:function(e,t,n){function a(e){return e&&(e.__esModule?e.default:e)}var i=n(5);e.exports=(i.default||i).template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,r){var o=this.escapeExpression;return'<form id="delete-condition-form">\n  <div class="modal-head">\n    <h2>'+o(a(n(1)).call(e,"quality_gates.delete_condition",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n    '+o(a(n(64)).call(e,"quality_gates.delete_condition.confirm.message",null!=e?e.localizedMetricName:e,{name:"tp",hash:{},data:r}))+'\n  </div>\n  <div class="modal-foot">\n    <button id="delete-condition-submit">'+o(a(n(1)).call(e,"delete",{name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-condition-cancel">'+o(a(n(1)).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})},2282:function(e,t,n){function a(e){return e&&(e.__esModule?e.default:e)}var i=n(5);e.exports=(i.default||i).template({1:function(e,t,i,r){return"      "+(0,this.escapeExpression)(a(n(64)).call(e,"quality_gates.delete.confirm.default",null!=e?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},3:function(e,t,i,r){return"      "+(0,this.escapeExpression)(a(n(64)).call(e,"quality_gates.delete.confirm.message",null!=e?e.name:e,{name:"tp",hash:{},data:r}))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,r){var o,l=this.escapeExpression,s='<form id="delete-gate-form">\n  <div class="modal-head">\n    <h2>'+l(a(n(1)).call(e,"quality_gates.delete",{name:"t",hash:{},data:r}))+'</h2>\n  </div>\n  <div class="modal-body">\n    <div class="js-modal-messages"></div>\n';return o=t.if.call(e,null!=e?e.isDefault:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.program(3,r),data:r}),null!=o&&(s+=o),s+'  </div>\n  <div class="modal-foot">\n    <button id="delete-gate-submit">'+l(a(n(1)).call(e,"delete",{name:"t",hash:{},data:r}))+'</button>\n    <a href="#" class="js-modal-close" id="delete-gate-cancel">'+l(a(n(1)).call(e,"cancel",{name:"t",hash:{},data:r}))+"</a>\n  </div>\n</form>\n"},useData:!0})}});
//# sourceMappingURL=13.7633534a.chunk.js.map